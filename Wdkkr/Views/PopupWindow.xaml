<Window x:Class="Wdkkr.Views.PopupWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Width="300" Height="150"
        Topmost="True"
        ShowInTaskbar="False"
        Opacity="0">

    <Window.Resources>
        <!-- حركة الخروج -->
        <Storyboard x:Key="ExitStoryboard">
            <DoubleAnimation Storyboard.TargetProperty="Top"
                             Duration="0:0:0.4"
                             To="{Binding Path=Tag, RelativeSource={RelativeSource AncestorType=Window}}"
                             AccelerationRatio="0.5"/>
            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                             To="0"
                             Duration="0:0:0.4"/>
        </Storyboard>
    </Window.Resources>

    <Window.Triggers>
        <!-- حركة الدخول -->
        <EventTrigger RoutedEvent="Window.Loaded">
            <BeginStoryboard>
                <Storyboard>
                    <DoubleAnimation Storyboard.TargetProperty="Top"
                                     Duration="0:0:0.5"
                                     From="{Binding Path=Tag, RelativeSource={RelativeSource AncestorType=Window}}"
                                     To="{Binding Path=Top, RelativeSource={RelativeSource AncestorType=Window}}"
                                     DecelerationRatio="0.5"/>
                    <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                     From="0" To="1"
                                     Duration="0:0:0.5"/>
                </Storyboard>
            </BeginStoryboard>
        </EventTrigger>
    </Window.Triggers>

    <Border CornerRadius="10" Background="#DDFFFFFF" Padding="20"
            BorderBrush="#FFCCCCCC" BorderThickness="1"
            Effect="{DynamicResource DropShadow}">
        <TextBlock x:Name="ZikrText"
                   FontSize="18"
                   TextAlignment="Center"
                   TextWrapping="Wrap"
                   Foreground="#333"/>
    </Border>
</Window>
